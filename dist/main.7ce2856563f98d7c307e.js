/*! For license information please see main.7ce2856563f98d7c307e.js.LICENSE.txt */
(()=>{var t={221:(t,e,r)=>{"use strict";const n=r(366),{encode:i}=r(343),{simulatePlayer:s}=r(805),{PLAYER_COLOR:o}=r(989),a=r(863),f=r(633),c=r(374);t.exports=class{constructor(){this.ws=new WebSocket(location.origin.replace(/^http/,"ws")),this.ws.binaryType="arraybuffer",this.players=Object.create(null),this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.resizeCanvas(),this.chatBox=document.getElementById("chatBox"),this.chatHolder=document.getElementById("chatHolder"),this.lastTime=Date.now(),this.key={left:!1,right:!1,up:!1,down:!1},this.chat={lock:!1,isChatting:!1},this.debug={log:!1,mode:!1,bytes:0,byteDisplay:0,updates:0},this.lava=new n,this.updateRate=60,this.pendingInputs=[],this.history=[],this.pendingMessages=[],this.isJoined=!1,this.enterPressed=!1,this.tick=0,this.drawLoadingScreen()}on(t,e){this.ws.addEventListener(t,e)}applyEventListeners(){window.addEventListener("resize",(()=>{this.resizeCanvas()})),this.ws.addEventListener("open",(()=>{this.join(),this.trackBytes(),window.addEventListener("keydown",this.trackKeys.bind(this)),window.addEventListener("keyup",this.trackKeys.bind(this)),document.getElementById("loading").style.display="none",this.start=Date.now(),this.loop(),console.log("client setup working...connected to game server")}).bind(this))}drawLoadingScreen(){this.ctx.textAlign="center",this.ctx.font="25px sans-serif",this.ctx.fillStyle="white",this.ctx.fillText("Connecting...",window.innerWidth/2,window.innerHeight/2+25)}loop(){requestAnimationFrame(function t(){this.processServerMessages(),this.updateGameState((Date.now()-this.lastTime)/1e3),this.drawGameState(),this.lastTime=Date.now(),requestAnimationFrame(t.bind(this))}.bind(this))}updateGameState(t){if(!this.selfId)return;const e=Math.ceil(.06*(Date.now()-this.start)),r=e-this.tick;(this.chat.isChatting||r>5)&&(this.key={left:!1,right:!1,up:!1,down:!1});const n=[];let o=0;for(;this.tick<e&&!(o>10);)n.push({input:this.key,tick:this.tick}),s({players:this.players,id:this.selfId,arena:this.arena},this.key),this.pendingInputs.push({input:this.key,tick:this.tick}),this.lava.simulate(),this.tick++,this.debug.updates++,o++;if(n.length>0){const t=Object.create(null);t[i("inputs")]=[...n],this.ws.send(JSON.stringify(t))}for(const e of Object.keys(this.players))this.players[e].update({delta:t,players:this.players,arena:this.arena})}join(){const t=Object.create(null);t[i("type")]="join",this.ws.send(JSON.stringify(t))}trackBytes(){setInterval((()=>{this.debug.byteDisplay=this.debug.bytes/1e3,this.debug.bytes=0,console.log(this.debug.updates,"updates per second"),this.debug.updates=0}),1e3)}drawMap(){this.ctx.fillStyle="rgb(40,40,40)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);const t=Math.round(this.canvas.width/2-this.players[this.selfId].x),e=Math.round(this.canvas.height/2-this.players[this.selfId].y);this.ctx.fillStyle="rgb(190,190,190)",this.ctx.roundRect(t,e,this.arena.x,this.arena.y,10)}drawChat(){if(this.enterPressed&&!this.chat.lock&&(this.chat.isChatting=!this.chat.isChatting,this.chat.lock=!0),this.enterPressed||(this.chat.lock=!1),this.chat.isChatting)this.chatHolder.style.display="block",this.chatBox.focus();else{if(""!==this.chatBox.value)if("/tlog"===this.chatBox.value.trim().toLowerCase().slice(0,5))this.debug.log=!this.debug.log;else{const t=Object.create(null);t[i("value")]=this.chatBox.value,t[i("type")]="chat",this.ws.send(JSON.stringify(t))}this.chatHolder.style.display="none",this.chatBox.value=""}}drawLava(){const[t,e]=[Math.round(this.arena.x/2-200-this.players[this.selfId].x+this.canvas.width/2),Math.round(this.arena.y/2-200-this.players[this.selfId].y+this.canvas.height/2)];this.ctx.shadowColor=`rgb(${this.lava.color}, 124, 37)`,this.ctx.shadowBlur=300,this.ctx.fillStyle=`rgb(${this.lava.color},124,37)`,this.ctx.fillRect(t,e,400,400),this.ctx.shadowBlur=0}drawMinimap(){this.ctx.fillStyle="rgb(60, 60, 60, 0.8)",this.ctx.roundRect(50,650,200,200,10),this.ctx.fillStyle=o;for(const t of Object.keys(this.players)){const e=this.players[t];this.ctx.beginPath(),this.ctx.arc(Math.round(55+e.x/this.arena.x*195),Math.round(655+e.y/this.arena.y*195),4,0,2*Math.PI),this.ctx.fill()}}drawPlayers(){for(const t of Object.keys(this.players))this.players[t].draw({ctx:this.ctx,canvas:this.canvas,debugMode:this.debug.mode,center:this.players[this.selfId]})}drawBytes(){this.ctx.fillStyle="black",this.ctx.font="30px Arial",this.ctx.fillText(`${this.debug.byteDisplay} kbps`,this.canvas.width-100,this.canvas.height-50)}drawGameState(){this.selfId&&(this.drawChat(),this.drawMap(),this.drawLava(),this.drawPlayers(),this.drawMinimap(),this.drawBytes())}trackKeys(t){if(!this.selfId)return;const e=[[87,38],[83,40],[65,37],[68,39]].findIndex((e=>e.includes(t.keyCode))),r="keydown"===t.type;0===e&&(this.key.up=r),1===e&&(this.key.down=r),2===e&&(this.key.left=r),3===e&&(this.key.right=r),13===t.keyCode&&(this.enterPressed=r),r||84!==t.keyCode||this.chat.isChatting?r||81!==t.keyCode||this.chat.isChatting||console.log(this):(this.debug.mode=!this.debug.mode,console.log("toggled debug"))}lerp(t,e,r){return(1-r)*t+r*e}reconcile(t){const e=i("lastProcessedTick"),r=i("pos");for(let r=this.history.length-1;r>=0;r--)this.history[r].tick<t[e]&&this.history.splice(r,1);const n=this.players[this.selfId].pos,o={...this.players};this.players=Object.create(null),this.players[this.selfId]=o[this.selfId],this.players[this.selfId].pos=t[r];let a=0;for(;a<this.pendingInputs.length;){const r=this.pendingInputs[a];r.tick<=t[e]?this.pendingInputs.splice(a,1):(s({players:this.players,id:this.selfId,arena:this.arena},r.input),a++)}const f=this.players[this.selfId].pos;this.players=o,this.players[this.selfId].pos.x=this.lerp(n.x,f.x,.05),this.players[this.selfId].pos.y=this.lerp(n.y,f.y,.05)}processServerMessages(){for(const t of this.pendingMessages){this.debug.log&&console.log(t);const e=i("selfId");t[e]&&(this.selfId=t[e],this.isJoined=!0);const r=i("arena");t[r]&&(this.arena=t[r],this.isJoined=!0);const n=i("lava");if(t[n]){console.log("got lava",t[n]),this.lava.color=t[n].color,this.lava.up=t[n].up,this.lava.down=t[n].down,this.isJoined=!0;for(let t=0;t<this.tick;t++)this.lava.simulate()}const s=i("initPack");if(t[s]){for(const e of t[s])this.players[e[i("id")]]=new a(e,e[i("id")]===this.selfId);this.isJoined=!0}if(this.selfId&&this.players[this.selfId]){const e=i("newData");if(t[e]){const r=i("id"),n=i("pos"),s=i("lastProcessedTick"),o=i("chatTime"),a=i("chatMsg"),f=i("maxSpd");for(const i of t[e]){const t=this.players[i[r]];t&&(void 0!==i[n]&&(i[s]&&this.selfId&&this.arena&&this.players[this.selfId]&&i[r]===this.selfId&&this.reconcile(i),t.lastState=t.serverState,t.serverState.pos=i[n],t.serverState.time=Date.now()),void 0!==i[o]&&(t.chatTime=i[o]),void 0!==i[a]&&(t.chatMsg=i[a]),void 0!==i[f]&&(t.maxSpd=i[f]))}}}const o=i("removePack");if(t[o])for(const e of t[o])delete this.players[e]}this.pendingMessages=[]}addMessage(t){const e=c.decode(new Uint8Array(t.data));this.debug.bytes+=t.data.byteLength,this.pendingMessages.push(e)}resizeCanvas(){f(this.canvas)}},CanvasRenderingContext2D.prototype.roundRect=function(t,e,r,n,i){const s=t+r,o=e+n;this.beginPath(),this.moveTo(t+i,e),this.lineTo(s-i,e),this.quadraticCurveTo(s,e,s,e+i),this.lineTo(s,e+n-i),this.quadraticCurveTo(s,o,s-i,o),this.lineTo(t+i,o),this.quadraticCurveTo(t,o,t,o-i),this.lineTo(t,e+i),this.quadraticCurveTo(t,e,t+i,e),this.fill()}},989:t=>{"use strict";t.exports={PLAYER_COLOR:"#242424"}},863:(t,e,r)=>{"use strict";const{PLAYER_COLOR:n}=r(989),{encode:i}=r(343),{simulatePlayer:s}=r(805);t.exports=class{constructor(t,e=!1){const r=i("id"),n=i("pos"),s=i("chatTime"),o=i("chatMsg"),a=i("maxSpd"),f=i("radius");this.pos=t[n],this.radius=t[f],this.id=t[r],this.chatTime=t[s],this.chatMsg=t[o],this.vel={x:0,y:0},this.maxSpd=t[a],this.serverState={time:Date.now(),pos:this.pos},this.lastState={time:Date.now(),pos:this.pos},this.correctPosition={pos:this.pos},this.isSelf=e,this.x=this.pos.x,this.y=this.pos.y,console.log("new player, x and y is",this.x,this.y)}lerp(t,e,r){return(1-r)*t+r*e}update({delta:t,players:e,arena:r}){if(this.isSelf){const e=20*t;if(t>=.05)return this.x=this.pos.x,void(this.y=this.pos.y);this.x=this.lerp(this.x,this.pos.x,e),this.y=this.lerp(this.y,this.pos.y,e)}else{const n=20*t;if(t>=.05)return this.x=this.serverState.pos.x,this.y=this.serverState.pos.y,void(this.lastState.pos=this.serverState.pos);this.pos.x=this.lerp(this.pos.x,this.serverState.pos.x,n),this.pos.y=this.lerp(this.pos.y,this.serverState.pos.y,n),this.x=this.lerp(this.x,this.pos.x,n),this.y=this.lerp(this.y,this.pos.y,n),s({players:e,id:this.id,arena:r},{up:!1,down:!1,right:!1,left:!1})}}draw({ctx:t,canvas:e,debugMode:r,center:i}){const[s,o]=[Math.round(this.x-i.x+e.width/2),Math.round(this.y-i.y+e.height/2)];if(t.fillStyle=n,t.beginPath(),t.arc(s,o,this.radius,0,2*Math.PI),t.fill(),r&&this.isSelf){t.fillStyle="blue",t.beginPath();const[r,n]=[Math.round(this.serverState.pos.x-i.x+e.width/2),Math.round(this.serverState.pos.y-i.y+e.height/2)];t.arc(r,n,this.radius,0,2*Math.PI),t.fill()}if(r&&!this.isSelf){t.fillStyle="red",t.beginPath();const[r,n]=[Math.round(this.correctPosition.pos.x-i.x+e.width/2),Math.round(this.correctPosition.pos.y-i.y+e.height/2)];t.arc(r,n,this.radius,0,2*Math.PI),t.fill()}if(this.chatTime>=0){t.font="20px Verdana, Geneva, sans-serif",t.fillStyle=`rgb(50, 50, 50, ${this.chatTime/3})`;const e=t.measureText(this.chatMsg).width;t.fillRect(Math.round(s-e/2-3),Math.round(o-67),Math.round(2*e/2+6),30),t.fillStyle=`rgb(200, 200, 200, ${this.chatTime/3})`,t.fillText(this.chatMsg,s,Math.round(o-this.radius-15))}}}},633:t=>{"use strict";t.exports=function(t){const e=window.innerWidth,r=window.innerHeight,n=e/t.width,i=r/t.height,s=Math.min(n,i);t.style.transform="scale("+s+")",t.style.left=(e-t.width)/2+"px",t.style.top=(r-t.height)/2+"px"}},660:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(645),i=r.n(n)()((function(t){return t[1]}));i.push([t.id,"* {\r\n  overflow: hidden;\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\nbody {\r\n\tfont-family: sans-serif;\r\n\tfont-size:16px;\r\n\ttransition:all 0.2s linear;\r\n}\r\n#game {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100vh;\r\n  background: #232423;\r\n}\r\n#loading {\r\n  text-align: center;\r\n  margin-top:50vh;\r\n  font-size: 1.5rem;\r\n}\r\n#chatHolder {\r\n  display: none;\r\n  position: absolute;\r\n  bottom: 35%;\r\n  width: 100%;\r\n  text-align: center;\r\n  z-index: 0;\r\n}\r\n\r\n#chatBox {\r\n  padding: 6px;\r\n  font-size: 20px;\r\n  color: #222222;\r\n  background-color: rgba(100, 100, 100, 0.5);\r\n  -webkit-border-radius: 4px;\r\n  -moz-border-radius: 4px;\r\n  border-radius: 4px;\r\n  pointer-events: all;\r\n  border: none;\r\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset,\r\n    50 50 50px rgba(82, 168, 236, 0.6);\r\n  text-shadow: -2px -2px 5px white, 2px 2px 5px white;\r\n  outline: none;\r\n}\r\n.chat::-webkit-input-placeholder {\r\n  color: #333;\r\n}\r\n.chat:-moz-placeholder {\r\n  color: #333;\r\n  opacity: 1;\r\n}\r\n.chat::-moz-placeholder {\r\n  color: #333;\r\n  opacity: 1;\r\n}\r\n.chat:-ms-input-placeholder {\r\n  color: #333;\r\n}\r\n\r\n#canvas {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  cursor: default;\r\n  z-index: 0;\r\n  border-radius: 5px;\r\n}\r\n",""]);const s=i},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=t(e);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(i[o]=!0)}for(var a=0;a<t.length;a++){var f=[].concat(t[a]);n&&i[f[0]]||(r&&(f[2]?f[2]="".concat(r," and ").concat(f[2]):f[2]=r),e.push(f))}},e}},258:t=>{!function(e){t.exports=e;var r={on:function(t,e){return s(this,t).push(e),this},once:function(t,e){var r=this;return n.originalListener=e,s(r,t).push(n),r;function n(){i.call(r,t,n),e.apply(this,arguments)}},off:i,emit:function(t,e){var r=this,n=s(r,t,!0);if(!n)return!1;var i=arguments.length;if(1===i)n.forEach(a);else if(2===i)n.forEach(f);else{var o=Array.prototype.slice.call(arguments,1);n.forEach(c)}return!!n.length;function a(t){t.call(r)}function f(t){t.call(r,e)}function c(t){t.apply(r,o)}}};function n(t){for(var e in r)t[e]=r[e];return t}function i(t,e){var r,n=this;if(arguments.length){if(e){if(r=s(n,t,!0)){if(!(r=r.filter(o)).length)return i.call(n,t);n.listeners[t]=r}}else if((r=n.listeners)&&(delete r[t],!Object.keys(r).length))return i.call(n)}else delete n.listeners;return n;function o(t){return t!==e&&t.originalListener!==e}}function s(t,e,r){if(!r||t.listeners){var n=t.listeners||(t.listeners={});return n[e]||(n[e]=[])}}n(e.prototype),e.mixin=n}((function t(){if(!(this instanceof t))return new t}))},241:(t,e)=>{e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,f=(1<<a)-1,c=f>>1,u=-7,h=r?i-1:0,l=r?-1:1,d=t[e+h];for(h+=l,s=d&(1<<-u)-1,d>>=-u,u+=a;u>0;s=256*s+t[e+h],h+=l,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+t[e+h],h+=l,u-=8);if(0===s)s=1-c;else{if(s===f)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=c}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,f,c=8*s-i-1,u=(1<<c)-1,h=u>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-o))<1&&(o--,f*=2),(e+=o+h>=1?l/f:l*Math.pow(2,1-h))*f>=2&&(o++,f/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*f-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+d]=255&o,d+=p,o/=256,c-=8);t[r+d-p]|=128*y}},166:function(t,e){!function(t){var e,r="undefined",n=r!==typeof Buffer&&Buffer,i=r!==typeof Uint8Array&&Uint8Array,s=r!==typeof ArrayBuffer&&ArrayBuffer,o=[0,0,0,0,0,0,0,0],a=Array.isArray||function(t){return!!t&&"[object Array]"==Object.prototype.toString.call(t)},f=4294967296;function c(a,c,b){var m=c?0:4,E=c?4:0,k=c?0:3,A=c?1:2,B=c?2:1,S=c?3:0,U=c?v:g,M=c?x:w,I=C.prototype,P="is"+a,T="_"+P;return I.buffer=void 0,I.offset=0,I[T]=!0,I.toNumber=R,I.toString=function(t){var e=this.buffer,r=this.offset,n=L(e,r+m),i=L(e,r+E),s="",o=!b&&2147483648&n;for(o&&(n=~n,i=f-i),t=t||10;;){var a=n%t*f+i;if(n=Math.floor(n/t),i=Math.floor(a/t),s=(a%t).toString(t)+s,!n&&!i)break}return o&&(s="-"+s),s},I.toJSON=R,I.toArray=u,n&&(I.toBuffer=h),i&&(I.toArrayBuffer=l),C[P]=function(t){return!(!t||!t[T])},t[a]=C,C;function C(t,n,a,c){return this instanceof C?function(t,n,a,c,u){i&&s&&(n instanceof s&&(n=new i(n)),c instanceof s&&(c=new i(c))),n||a||c||e?(d(n,a)||(u=a,c=n,a=0,n=new(e||Array)(8)),t.buffer=n,t.offset=a|=0,r!==typeof c&&("string"==typeof c?function(t,e,r,n){var i=0,s=r.length,o=0,a=0;"-"===r[0]&&i++;for(var c=i;i<s;){var u=parseInt(r[i++],n);if(!(u>=0))break;a=a*n+u,o=o*n+Math.floor(a/f),a%=f}c&&(o=~o,a?a=f-a:o++),O(t,e+m,o),O(t,e+E,a)}(n,a,c,u||10):d(c,u)?p(n,a,c,u):"number"==typeof u?(O(n,a+m,c),O(n,a+E,u)):c>0?U(n,a,c):c<0?M(n,a,c):p(n,a,o,0))):t.buffer=y(o,0)}(this,t,n,a,c):new C(t,n,a,c)}function R(){var t=this.buffer,e=this.offset,r=L(t,e+m),n=L(t,e+E);return b||(r|=0),r?r*f+n:n}function O(t,e,r){t[e+S]=255&r,r>>=8,t[e+B]=255&r,r>>=8,t[e+A]=255&r,r>>=8,t[e+k]=255&r}function L(t,e){return 16777216*t[e+k]+(t[e+A]<<16)+(t[e+B]<<8)+t[e+S]}}function u(t){var r=this.buffer,n=this.offset;return e=null,!1!==t&&0===n&&8===r.length&&a(r)?r:y(r,n)}function h(t){var r=this.buffer,i=this.offset;if(e=n,!1!==t&&0===i&&8===r.length&&Buffer.isBuffer(r))return r;var s=new n(8);return p(s,0,r,i),s}function l(t){var r=this.buffer,n=this.offset,o=r.buffer;if(e=i,!1!==t&&0===n&&o instanceof s&&8===o.byteLength)return o;var a=new i(8);return p(a,0,r,n),a.buffer}function d(t,e){var r=t&&t.length;return e|=0,r&&e+8<=r&&"string"!=typeof t[e]}function p(t,e,r,n){e|=0,n|=0;for(var i=0;i<8;i++)t[e++]=255&r[n++]}function y(t,e){return Array.prototype.slice.call(t,e,e+8)}function v(t,e,r){for(var n=e+8;n>e;)t[--n]=255&r,r/=256}function x(t,e,r){var n=e+8;for(r++;n>e;)t[--n]=255&-r^255,r/=256}function g(t,e,r){for(var n=e+8;e<n;)t[e++]=255&r,r/=256}function w(t,e,r){var n=e+8;for(r++;e<n;)t[e++]=255&-r^255,r/=256}c("Uint64BE",!0,!0),c("Int64BE",!0,!1),c("Uint64LE",!1,!0),c("Int64LE",!1,!1)}("string"!=typeof e.nodeName?e:this||{})},826:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},374:(t,e,r)=>{e.encode=r(764).encode,e.decode=r(299).decode,e.Encoder=r(883).Encoder,e.Decoder=r(441).Decoder,e.createCodec=r(832).createCodec,e.codec=r(766).codec},679:function(t){function e(t){return t&&t.isBuffer&&t}t.exports=e("undefined"!=typeof Buffer&&Buffer)||e(this.Buffer)||e("undefined"!=typeof window&&window.Buffer)||this.Buffer},947:(t,e)=>{e.copy=function(t,e,r,n){var i;r||(r=0),n||0===n||(n=this.length),e||(e=0);var s=n-r;if(t===this&&r<e&&e<n)for(i=s-1;i>=0;i--)t[i+e]=this[i+r];else for(i=0;i<s;i++)t[i+e]=this[i+r];return s},e.toString=function(t,e,r){var n=this,i=0|e;r||(r=n.length);for(var s="",o=0;i<r;)(o=n[i++])<128?s+=String.fromCharCode(o):(192==(224&o)?o=(31&o)<<6|63&n[i++]:224==(240&o)?o=(15&o)<<12|(63&n[i++])<<6|63&n[i++]:240==(248&o)&&(o=(7&o)<<18|(63&n[i++])<<12|(63&n[i++])<<6|63&n[i++]),o>=65536?(o-=65536,s+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):s+=String.fromCharCode(o));return s},e.write=function(t,e){for(var r=this,n=e||(e|=0),i=t.length,s=0,o=0;o<i;)(s=t.charCodeAt(o++))<128?r[n++]=s:s<2048?(r[n++]=192|s>>>6,r[n++]=128|63&s):s<55296||s>57343?(r[n++]=224|s>>>12,r[n++]=128|s>>>6&63,r[n++]=128|63&s):(s=65536+(s-55296<<10|t.charCodeAt(o++)-56320),r[n++]=240|s>>>18,r[n++]=128|s>>>12&63,r[n++]=128|s>>>6&63,r[n++]=128|63&s);return n-e}},683:(t,e,r)=>{var n=r(895),i=t.exports=s(0);function s(t){return new Array(t)}i.alloc=s,i.concat=n.concat,i.from=function(t){if(!n.isBuffer(t)&&n.isView(t))t=n.Uint8Array.from(t);else if(n.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return n.from.call(i,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(t)}},580:(t,e,r)=>{var n=r(895),i=n.global,s=t.exports=n.hasBuffer?o(0):[];function o(t){return new i(t)}s.alloc=n.hasBuffer&&i.alloc||o,s.concat=n.concat,s.from=function(t){if(!n.isBuffer(t)&&n.isView(t))t=n.Uint8Array.from(t);else if(n.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return n.from.call(s,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return i.from&&1!==i.from.length?i.from(t):new i(t)}},190:(t,e,r)=>{var n=r(947);e.copy=f,e.slice=c,e.toString=function(t,e,r){var s=!o&&i.isBuffer(this)?this.toString:n.toString;return s.apply(this,arguments)},e.write=("write",function(){return(this.write||n.write).apply(this,arguments)});var i=r(895),s=i.global,o=i.hasBuffer&&"TYPED_ARRAY_SUPPORT"in s,a=o&&!s.TYPED_ARRAY_SUPPORT;function f(t,e,r,s){var o=i.isBuffer(this),f=i.isBuffer(t);if(o&&f)return this.copy(t,e,r,s);if(a||o||f||!i.isView(this)||!i.isView(t))return n.copy.call(this,t,e,r,s);var u=r||null!=s?c.call(this,r,s):this;return t.set(u,e),u.length}function c(t,e){var r=this.slice||!a&&this.subarray;if(r)return r.call(this,t,e);var n=i.alloc.call(this,e-t);return f.call(this,n,0,t,e),n}},37:(t,e,r)=>{var n=r(895),i=t.exports=n.hasArrayBuffer?s(0):[];function s(t){return new Uint8Array(t)}i.alloc=s,i.concat=n.concat,i.from=function(t){if(n.isView(t)){var e=t.byteOffset,r=t.byteLength;(t=t.buffer).byteLength!==r&&(t.slice?t=t.slice(e,e+r):(t=new Uint8Array(t)).byteLength!==r&&(t=Array.prototype.slice.call(t,e,e+r)))}else{if("string"==typeof t)return n.from.call(i,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(t)}},895:(t,e,r)=>{var n=e.global=r(679),i=e.hasBuffer=n&&!!n.isBuffer,s=e.hasArrayBuffer="undefined"!=typeof ArrayBuffer,o=e.isArray=r(826);e.isArrayBuffer=s?function(t){return t instanceof ArrayBuffer||p(t)}:x;var a=e.isBuffer=i?n.isBuffer:x,f=e.isView=s?ArrayBuffer.isView||g("ArrayBuffer","buffer"):x;e.alloc=d,e.concat=function(t,r){r||(r=0,Array.prototype.forEach.call(t,(function(t){r+=t.length})));var n=this!==e&&this||t[0],i=d.call(n,r),s=0;return Array.prototype.forEach.call(t,(function(t){s+=l.copy.call(t,i,s)})),i},e.from=function(t){return"string"==typeof t?y.call(this,t):v(this).from(t)};var c=e.Array=r(683),u=e.Buffer=r(580),h=e.Uint8Array=r(37),l=e.prototype=r(190);function d(t){return v(this).alloc(t)}var p=g("ArrayBuffer");function y(t){var e=3*t.length,r=d.call(this,e),n=l.write.call(r,t);return e!==n&&(r=l.slice.call(r,0,n)),r}function v(t){return a(t)?u:f(t)?h:o(t)?c:i?u:s?h:c}function x(){return!1}function g(t,e){return t="[object "+t+"]",function(r){return null!=r&&{}.toString.call(e?r[e]:r)===t}}},877:(t,e,r)=>{var n=r(826);e.createCodec=a,e.install=function(t){for(var e in t)s.prototype[e]=o(s.prototype[e],t[e])},e.filter=function(t){return n(t)?function(t){return t=t.slice(),function(r){return t.reduce(e,r)};function e(t,e){return e(t)}}(t):t};var i=r(895);function s(t){if(!(this instanceof s))return new s(t);this.options=t,this.init()}function o(t,e){return t&&e?function(){return t.apply(this,arguments),e.apply(this,arguments)}:t||e}function a(t){return new s(t)}s.prototype.init=function(){var t=this.options;return t&&t.uint8array&&(this.bufferish=i.Uint8Array),this},e.preset=a({preset:!0})},766:(t,e,r)=>{r(350),r(312),e.codec={preset:r(877).preset}},170:(t,e,r)=>{e.T=i;var n=r(350).preset;function i(t){if(!(this instanceof i))return new i(t);if(t&&(this.options=t,t.codec)){var e=this.codec=t.codec;e.bufferish&&(this.bufferish=e.bufferish)}}r(822).k.mixin(i.prototype),i.prototype.codec=n,i.prototype.fetch=function(){return this.codec.decode(this)}},299:(t,e,r)=>{e.decode=function(t,e){var r=new n(e);return r.write(t),r.read()};var n=r(170).T},441:(t,e,r)=>{e.Decoder=s;var n=r(258),i=r(170).T;function s(t){if(!(this instanceof s))return new s(t);i.call(this,t)}s.prototype=new i,n.mixin(s.prototype),s.prototype.decode=function(t){arguments.length&&this.write(t),this.flush()},s.prototype.push=function(t){this.emit("data",t)},s.prototype.end=function(t){this.decode(t),this.emit("end")}},517:(t,e,r)=>{e.F=i;var n=r(312).preset;function i(t){if(!(this instanceof i))return new i(t);if(t&&(this.options=t,t.codec)){var e=this.codec=t.codec;e.bufferish&&(this.bufferish=e.bufferish)}}r(822).I.mixin(i.prototype),i.prototype.codec=n,i.prototype.write=function(t){this.codec.encode(this,t)}},764:(t,e,r)=>{e.encode=function(t,e){var r=new n(e);return r.write(t),r.read()};var n=r(517).F},883:(t,e,r)=>{e.Encoder=s;var n=r(258),i=r(517).F;function s(t){if(!(this instanceof s))return new s(t);i.call(this,t)}s.prototype=new i,n.mixin(s.prototype),s.prototype.encode=function(t){this.write(t),this.emit("data",this.read())},s.prototype.end=function(t){arguments.length&&this.encode(t),this.flush(),this.emit("end")}},83:(t,e,r)=>{e.S=function t(e,r){if(!(this instanceof t))return new t(e,r);this.buffer=n.from(e),this.type=r};var n=r(895)},431:(t,e,r)=>{e.setExtPackers=function(t){t.addExtPacker(14,Error,[h,f]),t.addExtPacker(1,EvalError,[h,f]),t.addExtPacker(2,RangeError,[h,f]),t.addExtPacker(3,ReferenceError,[h,f]),t.addExtPacker(4,SyntaxError,[h,f]),t.addExtPacker(5,TypeError,[h,f]),t.addExtPacker(6,URIError,[h,f]),t.addExtPacker(10,RegExp,[u,f]),t.addExtPacker(11,Boolean,[c,f]),t.addExtPacker(12,String,[c,f]),t.addExtPacker(13,Date,[Number,f]),t.addExtPacker(15,Number,[c,f]),"undefined"!=typeof Uint8Array&&(t.addExtPacker(17,Int8Array,o),t.addExtPacker(18,Uint8Array,o),t.addExtPacker(19,Int16Array,o),t.addExtPacker(20,Uint16Array,o),t.addExtPacker(21,Int32Array,o),t.addExtPacker(22,Uint32Array,o),t.addExtPacker(23,Float32Array,o),"undefined"!=typeof Float64Array&&t.addExtPacker(24,Float64Array,o),"undefined"!=typeof Uint8ClampedArray&&t.addExtPacker(25,Uint8ClampedArray,o),t.addExtPacker(26,ArrayBuffer,o),t.addExtPacker(29,DataView,o)),i.hasBuffer&&t.addExtPacker(27,s,i.from)};var n,i=r(895),s=i.global,o=i.Uint8Array.from,a={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function f(t){return n||(n=r(764).encode),n(t)}function c(t){return t.valueOf()}function u(t){(t=RegExp.prototype.toString.call(t).split("/")).shift();var e=[t.pop()];return e.unshift(t.join("/")),e}function h(t){var e={};for(var r in a)e[r]=t[r];return e}},600:(t,e,r)=>{e.setExtUnpackers=function(t){t.addExtUnpacker(14,[a,c(Error)]),t.addExtUnpacker(1,[a,c(EvalError)]),t.addExtUnpacker(2,[a,c(RangeError)]),t.addExtUnpacker(3,[a,c(ReferenceError)]),t.addExtUnpacker(4,[a,c(SyntaxError)]),t.addExtUnpacker(5,[a,c(TypeError)]),t.addExtUnpacker(6,[a,c(URIError)]),t.addExtUnpacker(10,[a,f]),t.addExtUnpacker(11,[a,u(Boolean)]),t.addExtUnpacker(12,[a,u(String)]),t.addExtUnpacker(13,[a,u(Date)]),t.addExtUnpacker(15,[a,u(Number)]),"undefined"!=typeof Uint8Array&&(t.addExtUnpacker(17,u(Int8Array)),t.addExtUnpacker(18,u(Uint8Array)),t.addExtUnpacker(19,[h,u(Int16Array)]),t.addExtUnpacker(20,[h,u(Uint16Array)]),t.addExtUnpacker(21,[h,u(Int32Array)]),t.addExtUnpacker(22,[h,u(Uint32Array)]),t.addExtUnpacker(23,[h,u(Float32Array)]),"undefined"!=typeof Float64Array&&t.addExtUnpacker(24,[h,u(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&t.addExtUnpacker(25,u(Uint8ClampedArray)),t.addExtUnpacker(26,h),t.addExtUnpacker(29,[h,u(DataView)])),i.hasBuffer&&t.addExtUnpacker(27,u(s))};var n,i=r(895),s=i.global,o={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function a(t){return n||(n=r(299).decode),n(t)}function f(t){return RegExp.apply(null,t)}function c(t){return function(e){var r=new t;for(var n in o)r[n]=e[n];return r}}function u(t){return function(e){return new t(e)}}function h(t){return new Uint8Array(t).buffer}},832:(t,e,r)=>{r(350),r(312),e.createCodec=r(877).createCodec},822:(t,e,r)=>{e.k=s,e.I=o;var n=r(895),i="BUFFER_SHORTAGE";function s(){if(!(this instanceof s))return new s}function o(){if(!(this instanceof o))return new o}function a(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function f(t){(this.buffers||(this.buffers=[])).push(t)}function c(t){return function(e){for(var r in t)e[r]=t[r];return e}}s.mixin=c({bufferish:n,write:function(t){var e=this.offset?n.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=e?t?this.bufferish.concat([e,t]):e:t,this.offset=0},fetch:function(){throw new Error("method not implemented: fetch()")},flush:function(){for(;this.offset<this.buffer.length;){var t,e=this.offset;try{t=this.fetch()}catch(t){if(t&&t.message!=i)throw t;this.offset=e;break}this.push(t)}},push:f,pull:function(){return(this.buffers||(this.buffers=[])).shift()},read:a,reserve:function(t){var e=this.offset,r=e+t;if(r>this.buffer.length)throw new Error(i);return this.offset=r,e},offset:0}),s.mixin(s.prototype),o.mixin=c({bufferish:n,write:function(){throw new Error("method not implemented: write()")},fetch:function(){var t=this.start;if(t<this.offset){var e=this.start=this.offset;return n.prototype.slice.call(this.buffer,t,e)}},flush:function(){for(;this.start<this.offset;){var t=this.fetch();t&&this.push(t)}},push:f,pull:function(){var t=this.buffers||(this.buffers=[]),e=t.length>1?this.bufferish.concat(t):t[0];return t.length=0,e},read:a,reserve:function(t){var e=0|t;if(this.buffer){var r=this.buffer.length,n=0|this.offset,i=n+e;if(i<r)return this.offset=i,n;this.flush(),t=Math.max(t,Math.min(2*r,this.maxBufferSize))}return t=Math.max(t,this.minBufferSize),this.buffer=this.bufferish.alloc(t),this.start=0,this.offset=e,0},send:function(t){var e=t.length;if(e>this.minBufferSize)this.flush(),this.push(t);else{var r=this.reserve(e);n.prototype.copy.call(t,this.buffer,r)}},maxBufferSize:65536,minBufferSize:2048,offset:0,start:0}),o.mixin(o.prototype)},350:(t,e,r)=>{var n=r(83).S,i=r(600),s=r(76).readUint8,o=r(738),a=r(877);function f(){var t=this.options;return this.decode=function(t){var e=o.getReadToken(t);return function(t){var r=s(t),n=e[r];if(!n)throw new Error("Invalid type: "+(r?"0x"+r.toString(16):r));return n(t)}}(t),t&&t.preset&&i.setExtUnpackers(this),this}a.install({addExtUnpacker:function(t,e){(this.extUnpackers||(this.extUnpackers=[]))[t]=a.filter(e)},getExtUnpacker:function(t){return(this.extUnpackers||(this.extUnpackers=[]))[t]||function(e){return new n(e,t)}},init:f}),e.preset=f.call(a.preset)},76:(t,e,r)=>{var n=r(241),i=r(166),s=i.Uint64BE,o=i.Int64BE;e.getReadFormat=function(t){var e=a.hasArrayBuffer&&t&&t.binarraybuffer,r=t&&t.int64;return{map:c&&t&&t.usemap?h:u,array:l,str:d,bin:e?y:p,ext:v,uint8:x,uint16:w,uint32:m,uint64:k(8,r?S:A),int8:g,int16:b,int32:E,int64:k(8,r?U:B),float32:k(4,M),float64:k(8,I)}},e.readUint8=x;var a=r(895),f=r(190),c="undefined"!=typeof Map;function u(t,e){var r,n={},i=new Array(e),s=new Array(e),o=t.codec.decode;for(r=0;r<e;r++)i[r]=o(t),s[r]=o(t);for(r=0;r<e;r++)n[i[r]]=s[r];return n}function h(t,e){var r,n=new Map,i=new Array(e),s=new Array(e),o=t.codec.decode;for(r=0;r<e;r++)i[r]=o(t),s[r]=o(t);for(r=0;r<e;r++)n.set(i[r],s[r]);return n}function l(t,e){for(var r=new Array(e),n=t.codec.decode,i=0;i<e;i++)r[i]=n(t);return r}function d(t,e){var r=t.reserve(e),n=r+e;return f.toString.call(t.buffer,"utf-8",r,n)}function p(t,e){var r=t.reserve(e),n=r+e,i=f.slice.call(t.buffer,r,n);return a.from(i)}function y(t,e){var r=t.reserve(e),n=r+e,i=f.slice.call(t.buffer,r,n);return a.Uint8Array.from(i).buffer}function v(t,e){var r=t.reserve(e+1),n=t.buffer[r++],i=r+e,s=t.codec.getExtUnpacker(n);if(!s)throw new Error("Invalid ext type: "+(n?"0x"+n.toString(16):n));return s(f.slice.call(t.buffer,r,i))}function x(t){var e=t.reserve(1);return t.buffer[e]}function g(t){var e=t.reserve(1),r=t.buffer[e];return 128&r?r-256:r}function w(t){var e=t.reserve(2),r=t.buffer;return r[e++]<<8|r[e]}function b(t){var e=t.reserve(2),r=t.buffer,n=r[e++]<<8|r[e];return 32768&n?n-65536:n}function m(t){var e=t.reserve(4),r=t.buffer;return 16777216*r[e++]+(r[e++]<<16)+(r[e++]<<8)+r[e]}function E(t){var e=t.reserve(4),r=t.buffer;return r[e++]<<24|r[e++]<<16|r[e++]<<8|r[e]}function k(t,e){return function(r){var n=r.reserve(t);return e.call(r.buffer,n,!0)}}function A(t){return new s(this,t).toNumber()}function B(t){return new o(this,t).toNumber()}function S(t){return new s(this,t)}function U(t){return new o(this,t)}function M(t){return n.read(this,t,!1,23,4)}function I(t){return n.read(this,t,!1,52,8)}},738:(t,e,r)=>{var n=r(76);function i(t){var e,r=new Array(256);for(e=0;e<=127;e++)r[e]=s(e);for(e=128;e<=143;e++)r[e]=a(e-128,t.map);for(e=144;e<=159;e++)r[e]=a(e-144,t.array);for(e=160;e<=191;e++)r[e]=a(e-160,t.str);for(r[192]=s(null),r[193]=null,r[194]=s(!1),r[195]=s(!0),r[196]=o(t.uint8,t.bin),r[197]=o(t.uint16,t.bin),r[198]=o(t.uint32,t.bin),r[199]=o(t.uint8,t.ext),r[200]=o(t.uint16,t.ext),r[201]=o(t.uint32,t.ext),r[202]=t.float32,r[203]=t.float64,r[204]=t.uint8,r[205]=t.uint16,r[206]=t.uint32,r[207]=t.uint64,r[208]=t.int8,r[209]=t.int16,r[210]=t.int32,r[211]=t.int64,r[212]=a(1,t.ext),r[213]=a(2,t.ext),r[214]=a(4,t.ext),r[215]=a(8,t.ext),r[216]=a(16,t.ext),r[217]=o(t.uint8,t.str),r[218]=o(t.uint16,t.str),r[219]=o(t.uint32,t.str),r[220]=o(t.uint16,t.array),r[221]=o(t.uint32,t.array),r[222]=o(t.uint16,t.map),r[223]=o(t.uint32,t.map),e=224;e<=255;e++)r[e]=s(e-256);return r}function s(t){return function(){return t}}function o(t,e){return function(r){var n=t(r);return e(r,n)}}function a(t,e){return function(r){return e(r,t)}}e.getReadToken=function(t){var e=n.getReadFormat(t);return t&&t.useraw?function(t){var e,r=i(t).slice();for(r[217]=r[196],r[218]=r[197],r[219]=r[198],e=160;e<=191;e++)r[e]=a(e-160,t.bin);return r}(e):i(e)}},312:(t,e,r)=>{var n=r(83).S,i=r(431),s=r(943),o=r(877);function a(){var t=this.options;return this.encode=function(t){var e=s.getWriteType(t);return function(t,r){var n=e[typeof r];if(!n)throw new Error('Unsupported type "'+typeof r+'": '+r);n(t,r)}}(t),t&&t.preset&&i.setExtPackers(this),this}o.install({addExtPacker:function(t,e,r){r=o.filter(r);var i=e.name;function s(e){return r&&(e=r(e)),new n(e,t)}i&&"Object"!==i?(this.extPackers||(this.extPackers={}))[i]=s:(this.extEncoderList||(this.extEncoderList=[])).unshift([e,s])},getExtPacker:function(t){var e=this.extPackers||(this.extPackers={}),r=t.constructor,n=r&&r.name&&e[r.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),s=i.length,o=0;o<s;o++){var a=i[o];if(r===a[0])return a[1]}},init:a}),e.preset=a.call(o.preset)},598:(t,e,r)=>{var n=r(241),i=r(166),s=i.Uint64BE,o=i.Int64BE,a=r(370).w,f=r(895),c=f.global,u=f.hasBuffer&&"TYPED_ARRAY_SUPPORT"in c&&!c.TYPED_ARRAY_SUPPORT,h=f.hasBuffer&&c.prototype||{};function l(){var t=a.slice();return t[196]=d(196),t[197]=p(197),t[198]=y(198),t[199]=d(199),t[200]=p(200),t[201]=y(201),t[202]=v(202,4,h.writeFloatBE||w,!0),t[203]=v(203,8,h.writeDoubleBE||b,!0),t[204]=d(204),t[205]=p(205),t[206]=y(206),t[207]=v(207,8,x),t[208]=d(208),t[209]=p(209),t[210]=y(210),t[211]=v(211,8,g),t[217]=d(217),t[218]=p(218),t[219]=y(219),t[220]=p(220),t[221]=y(221),t[222]=p(222),t[223]=y(223),t}function d(t){return function(e,r){var n=e.reserve(2),i=e.buffer;i[n++]=t,i[n]=r}}function p(t){return function(e,r){var n=e.reserve(3),i=e.buffer;i[n++]=t,i[n++]=r>>>8,i[n]=r}}function y(t){return function(e,r){var n=e.reserve(5),i=e.buffer;i[n++]=t,i[n++]=r>>>24,i[n++]=r>>>16,i[n++]=r>>>8,i[n]=r}}function v(t,e,r,n){return function(i,s){var o=i.reserve(e+1);i.buffer[o++]=t,r.call(i.buffer,s,o,n)}}function x(t,e){new s(this,e,t)}function g(t,e){new o(this,e,t)}function w(t,e){n.write(this,t,e,!1,23,4)}function b(t,e){n.write(this,t,e,!1,52,8)}e.getWriteToken=function(t){return t&&t.uint8array?((e=l())[202]=v(202,4,w),e[203]=v(203,8,b),e):u||f.hasBuffer&&t&&t.safe?function(){var t=a.slice();return t[196]=v(196,1,c.prototype.writeUInt8),t[197]=v(197,2,c.prototype.writeUInt16BE),t[198]=v(198,4,c.prototype.writeUInt32BE),t[199]=v(199,1,c.prototype.writeUInt8),t[200]=v(200,2,c.prototype.writeUInt16BE),t[201]=v(201,4,c.prototype.writeUInt32BE),t[202]=v(202,4,c.prototype.writeFloatBE),t[203]=v(203,8,c.prototype.writeDoubleBE),t[204]=v(204,1,c.prototype.writeUInt8),t[205]=v(205,2,c.prototype.writeUInt16BE),t[206]=v(206,4,c.prototype.writeUInt32BE),t[207]=v(207,8,x),t[208]=v(208,1,c.prototype.writeInt8),t[209]=v(209,2,c.prototype.writeInt16BE),t[210]=v(210,4,c.prototype.writeInt32BE),t[211]=v(211,8,g),t[217]=v(217,1,c.prototype.writeUInt8),t[218]=v(218,2,c.prototype.writeUInt16BE),t[219]=v(219,4,c.prototype.writeUInt32BE),t[220]=v(220,2,c.prototype.writeUInt16BE),t[221]=v(221,4,c.prototype.writeUInt32BE),t[222]=v(222,2,c.prototype.writeUInt16BE),t[223]=v(223,4,c.prototype.writeUInt32BE),t}():l();var e}},943:(t,e,r)=>{var n=r(826),i=r(166),s=i.Uint64BE,o=i.Int64BE,a=r(895),f=r(190),c=r(598),u=r(370).w,h=r(83).S,l="undefined"!=typeof Uint8Array,d="undefined"!=typeof Map,p=[];p[1]=212,p[2]=213,p[4]=214,p[8]=215,p[16]=216,e.getWriteType=function(t){var e,r=c.getWriteToken(t),i=t&&t.useraw,y=l&&t&&t.binarraybuffer,v=y?a.isArrayBuffer:a.isBuffer,x=y?function(t,e){m(t,new Uint8Array(e))}:m,g=d&&t&&t.usemap?function(t,e){if(!(e instanceof Map))return E(t,e);var n=e.size;r[n<16?128+n:n<=65535?222:223](t,n);var i=t.codec.encode;e.forEach((function(e,r,n){i(t,r),i(t,e)}))}:E;return{boolean:function(t,e){r[e?195:194](t,e)},function:b,number:function(t,e){var n=0|e;e===n?r[-32<=n&&n<=127?255&n:0<=n?n<=255?204:n<=65535?205:206:-128<=n?208:-32768<=n?209:210](t,n):r[203](t,e)},object:i?function(t,e){if(v(e))return function(t,e){var n=e.length;r[n<32?160+n:n<=65535?218:219](t,n),t.send(e)}(t,e);w(t,e)}:w,string:(e=i?function(t){return t<32?1:t<=65535?3:5}:function(t){return t<32?1:t<=255?2:t<=65535?3:5},function(t,n){var i=n.length,s=5+3*i;t.offset=t.reserve(s);var o=t.buffer,a=e(i),c=t.offset+a;i=f.write.call(o,n,c);var u=e(i);if(a!==u){var h=c+u-a,l=c+i;f.copy.call(o,o,h,c,l)}r[1===u?160+i:u<=3?215+u:219](t,i),t.offset+=i}),symbol:b,undefined:b};function w(t,e){if(null===e)return b(t,e);if(v(e))return x(t,e);if(n(e))return function(t,e){var n=e.length;r[n<16?144+n:n<=65535?220:221](t,n);for(var i=t.codec.encode,s=0;s<n;s++)i(t,e[s])}(t,e);if(s.isUint64BE(e))return function(t,e){r[207](t,e.toArray())}(t,e);if(o.isInt64BE(e))return function(t,e){r[211](t,e.toArray())}(t,e);var i=t.codec.getExtPacker(e);if(i&&(e=i(e)),e instanceof h)return function(t,e){var n=e.buffer,i=n.length,s=p[i]||(i<255?199:i<=65535?200:201);r[s](t,i),u[e.type](t),t.send(n)}(t,e);g(t,e)}function b(t,e){r[192](t,e)}function m(t,e){var n=e.length;r[n<255?196:n<=65535?197:198](t,n),t.send(e)}function E(t,e){var n=Object.keys(e),i=n.length;r[i<16?128+i:i<=65535?222:223](t,i);var s=t.codec.encode;n.forEach((function(r){s(t,r),s(t,e[r])}))}}},370:(t,e)=>{for(var r=e.w=new Array(256),n=0;n<=255;n++)r[n]=i(n);function i(t){return function(e){var r=e.reserve(1);e.buffer[r]=t}}},531:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(379),i=r.n(n),s=r(660);i()(s.Z,{insert:"head",singleton:!1});const o=s.Z.locals||{}},379:(t,e,r)=>{"use strict";var n,i=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),s=[];function o(t){for(var e=-1,r=0;r<s.length;r++)if(s[r].identifier===t){e=r;break}return e}function a(t,e){for(var r={},n=[],i=0;i<t.length;i++){var a=t[i],f=e.base?a[0]+e.base:a[0],c=r[f]||0,u="".concat(f," ").concat(c);r[f]=c+1;var h=o(u),l={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(s[h].references++,s[h].updater(l)):s.push({identifier:u,updater:y(l,e),references:1}),n.push(u)}return n}function f(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var s=r.nc;s&&(n.nonce=s)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var o=i(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,u=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function h(t,e,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=u(e,i);else{var s=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function l(t,e,r){var n=r.css,i=r.media,s=r.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var d=null,p=0;function y(t,e){var r,n,i;if(e.singleton){var s=p++;r=d||(d=f(e)),n=h.bind(null,r,s,!1),i=h.bind(null,r,s,!0)}else r=f(e),n=l.bind(null,r,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<r.length;n++){var i=o(r[n]);s[i].references--}for(var f=a(t,e),c=0;c<r.length;c++){var u=o(r[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}r=f}}}},366:t=>{"use strict";t.exports=class{constructor(t=[0,255]){this.color=50,this.down=Math.random()>.5,this.up=!this.down,this.range={min:t[0],max:t[1]}}simulate(){this.up?this.color++:this.down&&this.color--,this.down&&this.color<this.range.min&&(this.down=!1,this.up=!0),this.up&&this.color>this.range.max&&(this.up=!1,this.down=!0)}}},343:t=>{"use strict";const e={lava:"l",selfId:"s",newData:"n",initPack:"e",removePack:"r",arena:"a",id:"z",pos:"p",lastProcessedTick:"d",chatTime:"v",chatMsg:"k",radius:"m",maxSpd:"o",inputs:"u",type:"t",value:"q"};t.exports={encode:function(t){for(const r of Object.keys(e))if(r===t)return e[r]},decode:function(t){for(const r of Object.keys(e))if(e[r]===t)return r}}},805:t=>{"use strict";t.exports={simulatePlayer:function(t,e){const r=t.players,n=r[t.id];e.up&&!e.down?n.vel.y-=n.maxSpd:e.down&&!e.up&&(n.vel.y+=n.maxSpd),e.left&&!e.right?n.vel.x-=n.maxSpd:e.right&&!e.left&&(n.vel.x+=n.maxSpd),n.vel.x*=.55*Math.max(n.vel.x/(30*n.maxSpd),.01),n.vel.y*=.55*Math.max(n.vel.y/(30*n.maxSpd),.01),n.pos.x+=n.vel.x,n.pos.y+=n.vel.y,n.pos.x-n.radius<0&&(n.pos.x=n.radius),n.pos.x+n.radius>t.arena.x&&(n.pos.x=t.arena.x-n.radius),n.pos.y-n.radius<0&&(n.pos.y=n.radius),n.pos.y+n.radius>t.arena.y&&(n.pos.y=t.arena.y-n.radius);const i=Object.entries({...r});for(let t=0;t<i.length;t++)for(let e=t+1;e<i.length;e++){const n=r[i[t][0]],s=r[i[e][0]];if(Math.sqrt(Math.abs(Math.pow(s.pos.x-n.pos.x,2)+Math.pow(s.pos.y-n.pos.y,2)))<60){const t=Math.sqrt(Math.abs(Math.pow(s.pos.x-n.pos.x,2)+Math.pow(s.pos.y-n.pos.y,2))),e=Math.atan2(s.pos.y-n.pos.y,s.pos.x-n.pos.x);s.pos.x+=1*Math.cos(e)/t*500,n.pos.x-=1*Math.cos(e)/t*500,s.pos.y+=1*Math.sin(e)/t*500,n.pos.y-=1*Math.sin(e)/t*500}}n.pos.x=Math.round(n.pos.x),n.pos.y=Math.round(n.pos.y)}}}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={id:n,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";r(531);const t=new(r(221));t.applyEventListeners(),t.on("message",(e=>{t.addMessage(e)}))})()})();